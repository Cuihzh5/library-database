-- ================================
-- 示例数据
-- ================================

USE LibraryDB;

-- 1. 插入读者数据
INSERT INTO Readers (student_id, name, college, phone, email, max_borrow_limit, register_date) VALUES
('20210001', '张三', '计算机学院', '13800138001', 'zhangsan@university.edu.cn', 8, '2023-09-01'),
('20210002', '李四', '文学院', '13800138002', 'lisi@university.edu.cn', 5, '2023-09-01'),
('20210003', '王五', '经济学院', '13800138003', 'wangwu@university.edu.cn', 5, '2023-09-02'),
('20210004', '赵六', '法学院', '13800138004', 'zhaoliu@university.edu.cn', 5, '2023-09-03'),
('20210005', '钱七', '管理学院', '13800138005', 'qianqi@university.edu.cn', 3, '2023-09-04'),
('20210006', '孙八', '艺术学院', '13800138006', 'sunba@university.edu.cn', 5, '2023-09-05'),
('20210007', '周九', '医学院', '13800138007', 'zhoujiu@university.edu.cn', 5, '2023-09-06'),
('20210008', '吴十', '理学院', '13800138008', 'wushi@university.edu.cn', 5, '2023-09-07');

-- 2. 插入图书数据
INSERT INTO Books (isbn, title, author, publisher, category, publish_year, total_copies, available_copies, location, price, description) VALUES
('978-7-302-12345-6', '数据库系统概论', '王珊', '清华大学出版社', '计算机科学', 2020, 5, 4, 'A区3排2架', 45.00, '数据库系统经典教材'),
('978-7-111-23456-7', '算法导论', 'Thomas Cormen', '机械工业出版社', '计算机科学', 2019, 3, 2, 'A区2排1架', 128.00, '算法领域权威著作'),
('978-7-5327-34567-8', '百年孤独', '加西亚·马尔克斯', '上海译文出版社', '文学', 2017, 4, 3, 'B区5排3架', 39.80, '魔幻现实主义文学代表作'),
('978-7-020-45678-9', '人工智能：现代方法', 'Stuart Russell', '人民邮电出版社', '计算机科学', 2021, 2, 1, 'A区4排2架', 159.00, '人工智能领域经典教材'),
('978-7-101-05678-0', '中国历史', '范文澜', '中华书局', '历史', 2015, 3, 2, 'C区1排4架', 68.00, '中国通史著作'),
('978-7-108-03456-1', '经济学原理', '曼昆', '北京大学出版社', '经济学', 2022, 4, 4, 'D区2排1架', 89.00, '经济学入门经典'),
('978-7-5447-1234-5', '简·爱', '夏洛蒂·勃朗特', '译林出版社', '文学', 2018, 3, 2, 'B区4排2架', 35.00, '英国文学经典'),
('978-7-5675-6789-0', '心理学与生活', '理查德·格里格', '人民邮电出版社', '心理学', 2020, 2, 1, 'E区1排3架', 98.00, '心理学经典教材'),
('978-7-301-23456-1', '高等数学', '同济大学数学系', '高等教育出版社', '数学', 2019, 6, 5, 'F区2排1架', 56.00, '高等数学教材'),
('978-7-5500-3456-7', 'Python编程从入门到实践', 'Eric Matthes', '人民邮电出版社', '计算机科学', 2022, 4, 3, 'A区1排3架', 89.00, 'Python编程入门书籍');

-- 3. 插入图书馆员数据
INSERT INTO Librarians (employee_id, name, position, department, phone, email, work_status, hire_date) VALUES
('LIB001', '刘老师', '借阅管理员', '流通部', '13800138111', 'liu@library.edu.cn', '在岗', '2020-03-15'),
('LIB002', '陈老师', '采购员', '采编部', '13800138222', 'chen@library.edu.cn', '在岗', '2019-07-01'),
('LIB003', '张老师', '系统管理员', '技术部', '13800138333', 'zhang@library.edu.cn', '在岗', '2021-01-10'),
('LIB004', '王老师', '参考咨询员', '参考咨询部', '13800138444', 'wang@library.edu.cn', '休假', '2018-09-01'),
('LIB005', '李老师', '阅览室管理员', '阅览部', '13800138555', 'li@library.edu.cn', '在岗', '2022-03-20');

-- 4. 插入座位数据
INSERT INTO Seats (room_number, seat_number, floor, area, has_power, has_light) VALUES
-- 101阅览室
('101', 'A01', 1, '安静区', TRUE, TRUE),
('101', 'A02', 1, '安静区', TRUE, TRUE),
('101', 'A03', 1, '安静区', FALSE, TRUE),
('101', 'A04', 1, '安静区', FALSE, TRUE),
('101', 'B01', 1, '讨论区', TRUE, TRUE),
('101', 'B02', 1, '讨论区', TRUE, TRUE),
-- 202阅览室
('202', 'A01', 2, '自习区', TRUE, TRUE),
('202', 'A02', 2, '自习区', TRUE, TRUE),
('202', 'A03', 2, '自习区', TRUE, TRUE),
('202', 'B01', 2, '休息区', FALSE, TRUE);

-- 5. 插入借阅记录
INSERT INTO BorrowRecords (reader_id, book_id, borrow_date, due_date, return_date, status, renewal_count, librarian_id) VALUES
(1, 1, '2024-05-01 10:00:00', '2024-05-15', NULL, '借出中', 0, 1),
(1, 3, '2024-05-05 14:30:00', '2024-05-19', NULL, '借出中', 1, 1),
(2, 2, '2024-05-03 09:15:00', '2024-05-17', '2024-05-16 16:20:00', '已归还', 0, 1),
(3, 5, '2024-05-10 11:00:00', '2024-05-24', NULL, '借出中', 0, 3),
(4, 8, '2024-04-20 15:45:00', '2024-05-04', NULL, '逾期', 1, 1),
(5, 6, '2024-05-08 10:30:00', '2024-05-22', NULL, '借出中', 0, 1),
(6, 7, '2024-05-12 13:20:00', '2024-05-26', NULL, '借出中', 0, 3),
(2, 4, '2024-05-15 16:00:00', '2024-05-29', NULL, '借出中', 0, 1);

-- 6. 插入预约记录
INSERT INTO Reservations (reader_id, book_id, reserve_date, pickup_deadline, status) VALUES
(7, 1, '2024-05-18 09:00:00', '2024-05-25', '等待中'),
(8, 2, '2024-05-17 14:00:00', '2024-05-24', '已取书'),
(3, 9, '2024-05-16 10:30:00', '2024-05-23', '已取消');

-- 7. 插入座位预约记录
INSERT INTO SeatReservations (reader_id, seat_id, reserve_start, reserve_end, checkin_time, status) VALUES
(1, 1, '2024-05-20 08:00:00', '2024-05-20 12:00:00', '2024-05-20 08:05:00', '使用中'),
(2, 3, '2024-05-20 09:00:00', '2024-05-20 13:00:00', '2024-05-20 09:10:00', '使用中'),
(3, 5, '2024-05-20 14:00:00', '2024-05-20 18:00:00', NULL, '预约中'),
(4, 7, '2024-05-19 10:00:00', '2024-05-19 16:00:00', '2024-05-19 10:15:00', '已完成');

-- 8. 插入罚款记录
INSERT INTO Fines (reader_id, amount, reason, related_record_id, issue_date, paid_date, status, payment_method) VALUES
(4, 8.00, '逾期', 5, '2024-05-05', '2024-05-10', '已支付', '微信支付'),
(1, 2.50, '逾期', 2, '2024-05-08', NULL, '未支付', NULL),
(6, 15.00, '损坏', NULL, '2024-05-12', '2024-05-13', '已支付', '现金');

-- 9. 插入采购记录
INSERT INTO Purchases (book_id, quantity, unit_price, total_amount, purchase_date, purchaser_id, supplier, invoice_no) VALUES
(1, 5, 35.00, 175.00, '2024-03-15', 2, '清华大学出版社', 'INV20240315001'),
(2, 3, 95.00, 285.00, '2024-03-20', 2, '机械工业出版社', 'INV20240320001'),
(3, 4, 28.00, 112.00, '2024-04-05', 2, '上海译文出版社', 'INV20240405001'),
(10, 4, 65.00, 260.00, '2024-04-10', 2, '人民邮电出版社', 'INV20240410001');

-- 10. 插入系统日志
INSERT INTO SystemLogs (user_type, user_id, action, description, ip_address) VALUES
('读者', 1, '登录系统', '用户张三登录系统', '192.168.1.100'),
('读者', 1, '借阅图书', '借阅图书《数据库系统概论》', '192.168.1.100'),
('馆员', 1, '处理借阅', '为读者张三办理借阅', '192.168.1.50'),
('系统', NULL, '定时任务', '每日借阅状态检查', '127.0.0.1');
